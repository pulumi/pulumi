// *** WARNING: this file was generated by the Lumi IDL Compiler (LUMIDL). ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

/* tslint:disable:ordered-imports variable-name */
import * as lumi from "@lumi/lumi";

export let AllProjection: ProjectionType = "ALL";
export let BinaryAttribute: AttributeType = "B";
export let IncludeProjection: ProjectionType = "INCLUDE";
export let KeysOnlyProjection: ProjectionType = "KEYS_ONLY";
export let NumberAttribute: AttributeType = "N";
export let StringAttribute: AttributeType = "S";

export interface Attribute {
    name: string;
    type: AttributeType;
}

export type AttributeType =
    "B" |
    "N" |
    "S";

export interface GlobalSecondaryIndex {
    indexName: string;
    hashKey: string;
    rangeKey?: string;
    readCapacity: number;
    writeCapacity: number;
    nonKeyAttributes: string[];
    projectionType: ProjectionType;
}

export type ProjectionType =
    "ALL" |
    "INCLUDE" |
    "KEYS_ONLY";

export class Table extends lumi.NamedResource implements TableArgs {
    public readonly hashKey: string;
    public attributes: Attribute[];
    public readCapacity: number;
    public writeCapacity: number;
    public readonly rangeKey?: string;
    public readonly tableName?: string;
    public globalSecondaryIndexes?: GlobalSecondaryIndex[];

    constructor(name: string, args: TableArgs) {
        super(name);
        if (args.hashKey === undefined) {
            throw new Error("Missing required argument 'hashKey'");
        }
        this.hashKey = args.hashKey;
        if (args.attributes === undefined) {
            throw new Error("Missing required argument 'attributes'");
        }
        this.attributes = args.attributes;
        if (args.readCapacity === undefined) {
            throw new Error("Missing required argument 'readCapacity'");
        }
        this.readCapacity = args.readCapacity;
        if (args.writeCapacity === undefined) {
            throw new Error("Missing required argument 'writeCapacity'");
        }
        this.writeCapacity = args.writeCapacity;
        this.rangeKey = args.rangeKey;
        this.tableName = args.tableName;
        this.globalSecondaryIndexes = args.globalSecondaryIndexes;
    }
}

export interface TableArgs {
    readonly hashKey: string;
    attributes: Attribute[];
    readCapacity: number;
    writeCapacity: number;
    readonly rangeKey?: string;
    readonly tableName?: string;
    globalSecondaryIndexes?: GlobalSecondaryIndex[];
}


